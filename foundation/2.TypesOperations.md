# 类型和运算符

## 引言

在 Python 中数据以对象形式出现，对象是 Python 最基本概念。  
Python 程序可分解为模块、语句、表达式、对象：  

1. 程序由模块构成
2. 模块包含语句
3. 语句包含表达式
4. 表达式建立并处理对象

## Python 内置对象类型

| 内置对象类型 | 示例/创建                                |
| ------------ | ---------------------------------------- |
| 数字         | 123, 3.14, 1+2j                          |
| 字符串       | 'aaa', "xxxx"                            |
| 列表         | [1,2,[ 'a','b','c' ],4],list(range(10))  |
| 字典         | {'name':'sam','age':24},dict(addr='xxx') |
| 元组         | ('a','b',3),tuple('a','b')               |
| 文件         | open('/test.txt')                        |
| 集合         | {'a','b',1,2,3}, set('abcd')             |
| 其他类型     | types，None，Booleans                    |
| 编程单元类型 | 函数，模块，类                           |

### 数字

Python 中包含：整数、浮点数、布尔值、复数、分数等等类型  
运算符：+, -, *, /,//, **

```pytyon
>>> 1+1
2
>>> 3-2
1
>>> 2*3
6
>>> 5/3
1.6666666666666667
>>> 5//3
1
>>> 2**3
8
>>>
```

### 字符串

字符串可以看做是单个字符的序列(sequence)，具有以下特性：

* 支持序列操作(索引、分片...)
* 不可变性(创建后不可原处改变)
* 类型的特定方法(find,replace,...)

```python
>>> str='qwet123'
>>> str[1]
'w'
>>> str[3:]
't123'
>>> str.find('t')
3
>>>
```

> 类型的特定方法可通过 `dir()` 和 `help()` 查看
>
> ```python
>>> dir(str)
> ...
>>>
>>> help(str.replace)
> ...
>```

### 列表

列表是任意类型对象的有序序列(sequence)，具有以下特性：

* 支持序列操作(索引、分片...)
* 类型的特定方法(append,pop,sort,...)
* 列表解析 `[x**2 for x in range(10)]`

```python
>>> L=[1,2,3,4,5]
>>> L[-1]
5
>>> L.append(8)
>>> L
[1, 2, 3, 4, 5, 8]
>>> [x**2 for x in L]
[1, 4, 9, 16, 25, 64]
>>>
```

### 字典

字典是一种 key:value 映射的数据对象  

* 映射操作

```python
>>> d={'name':'sam','age':20,'addr':'xxxxxx'}
>>> print(d['name'])
sam
>>> d['age']+=1
>>> d['age']
21
>>> d['sex']='male'
>>> d
{'name': 'sam', 'age': 21, 'addr': 'xxxxxx', 'sex': 'male'}
```

> 重访嵌套： value 可以是 Python 支持的数据对象  
> 例如：
>  
> ```python
> {'name':{'first':'jane','last':'smiths'}}
> >>> N['name']['first']
>'jane'
>```

* 类型的特定方法(keys,values,items,...)

### 元组

元组可以看做是不可改变的列表(list)

```python
>>> T=(1,2,3,4,5,[3,2,4])
>>> T[3]
4
>>> T.count(4)
1
>>> T+('a','b')
(1, 2, 3, 4, 5, [3, 2, 4], 'a', 'b')
```

### 文件

```python
>>> f=open(test.txt,'w') # 'w'is  write
>>> f.write('Hell Word\n')
>>> f=open(read.txt) # 'r' (read) is the default processing mode
>>> f.read()
>>> for line in open('data.txt'):
...     print(line)
```

### 其他核心类型

* 集合 `{'a','b','c'}` `set('snap')`

```python
>>> s1={'a','b','c'}
>>> s2=set('snap')
>>> s2
{'a', 'n', 'p', 's'}
>>> s1
{'b', 'c', 'a'}
>>> s1&s2 # intersect
{'a'}
>>> s1|s2 # union
{'b', 'c', 's', 'n', 'p', 'a'}
>>> s1-s2 # difference
{'b', 'c'}
```